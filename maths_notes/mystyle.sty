\ProvidesPackage{mystyle}

% so the title can be accessed by fancyhdr (and is automatically correctly
% spelled etc)
\makeatletter
\let\thetitle\@title
\let\theauthor\@author
\makeatother

% more advanced handling of utf8 and fonts or something. apparently good to have
\RequirePackage[utf8]{inputenc}
\RequirePackage[T1]{fontenc}

% this is basically good for hyphenation if you're not sure about the locale
\RequirePackage[UKenglish]{babel}

% change geometry so more of page is used
\RequirePackage[
 margin=1in,
 headheight=13.6pt]{geometry}

% custom document header/footer
\RequirePackage{fancyhdr}
\RequirePackage{lastpage}

\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\nouppercase{\leftmark}}
\fancyhead[R]{\rightmark}
\fancyfoot[L]{\theauthor\ (\thetitle)}
\fancyfoot[R]{Page \thepage\ of \pageref{LastPage}}

% better fonts, apparently
\RequirePackage{lmodern}
% fixes some small caps things
\RequirePackage{slantsc}

% \url function and clickable table of contents. no ugly red boxes though
\RequirePackage[hidelinks,pdfencoding=auto,psdextra,
 pdfauthor={\theauthor},
 pdftitle={\thetitle},
 pdfsubject={\thetitle},
 pdfproducer={LaTeX with hyperref},
 pdfcreator={pdflatex}]{hyperref}

% define starting paragraph letter stuff
\RequirePackage{lettrine}
\setcounter{DefaultLines}{4}
\setlength{\DefaultFindent}{0.5em}
\setlength{\DefaultNindent}{0em}
\renewcommand{\LettrineFontHook}{\usefont{U}{yinit}{m}{n}}

% typesetting units
\RequirePackage[separate-uncertainty]{siunitx}

% for references
\RequirePackage[square,numbers]{natbib}

% package for drawing tex-related logos - eg \hologo(bibtex)
\RequirePackage{hologo}

% needed for colouring and stuff (xcolor supersedes color). provides LightSalmon
\RequirePackage[x11names]{xcolor}

% pretty table rules and multirow entries. Also page-breaking tables
\RequirePackage{booktabs}
\RequirePackage{multirow}
\RequirePackage{longtable}

% For complicated column specification
\RequirePackage{array}

% For fancy numbering specifications of enumerations
\RequirePackage{enumerate}
\RequirePackage{enumitem}

% Custom column type to automatically go into maths mode with displaystyle
\newcolumntype M{>{\(\displaystyle}c<{\)}}

% plotting mathematical functions (needs version request)
\RequirePackage{pgfplots}
\pgfplotsset{compat=1.16}

% for better table of contents stuff, providing the \listof* commands and not
% listing the tables in the table of contents
\RequirePackage[nottoc,notlof,notlot]{tocbibind}

% increase spacing of section numbers from headings. The titles option keeps
% hdrs normal.
\RequirePackage[titles]{tocloft}
\setlength{\cftsubsecnumwidth}{2.9em}
\setlength{\cftsubsubsecindent}{4.4em}
%\setlength{\cftsubsubsecnumwidth}{3.7em}

% no paragraph indent - after tocloft because of starttoc
\RequirePackage[parfill]{parskip}

% bibliography management with square braces for citations
\RequirePackage[square,numbers]{natbib}

% graphics, like eps files and stuff (supersedes graphics)
\RequirePackage{graphicx}

% allows the float specifier [H]
\RequirePackage{float}

% listings of code
\RequirePackage{minted}
\setminted{breaklines,
 breakbytokenanywhere,
 linenos
}
\usemintedstyle{friendly}
% bigger line numbers
\renewcommand\theFancyVerbLine{\footnotesize\arabic{FancyVerbLine}}

% that can break across pages while being captioned figures
\RequirePackage{caption}
\newenvironment{longlisting}
{\addvspace{\baselineskip}\captionsetup{type=listing}}
{\addvspace{\baselineskip}}

\RequirePackage{tikz}
\RequirePackage{tikzsymbols}

\RequirePackage{bbding}
