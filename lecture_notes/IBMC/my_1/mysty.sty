\ProvidesPackage{mysty}

\makeatletter
\let\thetitle\@title
\let\theauthor\@author
\makeatother

\RequirePackage[
 margin=1in,
 tmargin=80pt]{geometry}

\RequirePackage[utf8]{inputenc}
\RequirePackage[T1]{fontenc}

\RequirePackage{afterpage}

% custom document header/footer
\RequirePackage{fancyhdr}
\RequirePackage{lastpage}

\fancypagestyle{afterstyle}{
 \fancyhf{}% Clear header/footer
 \renewcommand{\headrulewidth}{0pt}% Remove header rule
 \fancyhead[C]{%
  \begin{tabular}{ @{} p{\textwidth} @{} }
   \Bstrut
   \textbf{MARKOV CHAINS} \hfill EXAMPLE SHEET 1 \\ \hline
  \end{tabular}}
 \fancyfoot[C]{
  \thepage
 }
 \setlength{\headheight}{24.4pt}
}
\pagestyle{afterstyle}

% https://tex.stackexchange.com/questions/65127/extra-vertical-space-after-hline-causes-a-gap-in-the-right-border-of-an-array
\newcommand\Tstrut{\rule{0pt}{2.7ex}}         % = `top' strut
\newcommand\Bstrut{\rule[-1.2ex]{0pt}{0pt}}   % = `bottom' strut

\fancypagestyle{firststyle}
{
 \fancyhf{}% Clear header/footer
 \renewcommand{\headrulewidth}{0pt}% Remove header rule
 \fancyhead[C]{%
  \begin{tabular}{ @{} p{\textwidth} @{} }
   \Bstrut
   \large \textbf{MARKOV CHAINS} \hfill EXAMPLE SHEET 1 \\ \hline
   \Tstrut
   \small \itshape
   Roland Bauerschmidt\footnotemark[1]
   {\upshape\textlangle\texttt{rb812@cam.ac.uk}\textrangle}
   \hfill
   Michaelmas 2020
  \end{tabular}}
 \fancyfoot[C]{
  \thepage
 }
 \setlength{\headheight}{24.4pt}
}

% better fonts, apparently
\RequirePackage{lmodern}
% fixes some small caps things
\RequirePackage{slantsc}
\RequirePackage{tcolorbox}
\RequirePackage{adjustbox}
\RequirePackage{parskip}

\RequirePackage{enumerate}
\RequirePackage{enumitem}

\RequirePackage{multicol}

\RequirePackage[hidelinks,pdfencoding=auto,psdextra,
 pdfauthor={\theauthor},
 pdftitle={\thetitle},
 pdfsubject={\thetitle},
 pdfproducer={LaTeX with hyperref},
 pdfcreator={pdflatex}]{hyperref}
